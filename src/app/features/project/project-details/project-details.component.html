<section>
  <div *ngIf="loadingProjectDetails" class="loading-spinner">
    <app-loading-spinner color="orange" size="small"></app-loading-spinner>
  </div>
  <app-alert-message
    class="error-alert"
    *ngIf="errorFetchingProjectDetails"
    [closable]="false"
    [color]="'red'"
  >
    Error fetching project data...try again later
  </app-alert-message>
  <section *ngIf="project" class="details">
    <app-section-header>
      <span *ngIf="project.icon">{{ project.icon }}</span> "{{ project.name }}"
      details
    </app-section-header>

    <app-custom-detail
      *ngIf="project.description"
      [name]="'Description'"
      [state]="true"
    >
      {{ project.description }}
    </app-custom-detail>
    <app-custom-detail [name]="'Owner'">
      {{ project.owner }}
    </app-custom-detail>
    <app-custom-detail [name]="'Members'">
      <div *ngIf="project.members.length > 0">
        {{ project.members }}
      </div>
      <div *ngIf="project.members.length <= 0">
        There is no members in this project
      </div>
    </app-custom-detail>
  </section>
  <section>
    <div *ngIf="loadingEpics" class="loading-spinner">
      <app-loading-spinner color="orange" size="small"></app-loading-spinner>
    </div>
    <app-alert-message
      class="no-epics-alert"
      *ngIf="!loadingEpics && epicList.length <= 0 && !errorFetchingEpics"
      [closable]="false"
      [color]="'orange'"
    >
      No epics available at this moment
    </app-alert-message>
    <app-alert-message
      class="error-alert"
      *ngIf="errorFetchingEpics"
      [closable]="false"
      [color]="'red'"
    >
      Error fetching epic list...try again later
    </app-alert-message>
    <ul *ngIf="epicList.length > 0" class="epic-list">
      <li *ngFor="let epic of epicList">
        <app-summary-card
          [name]="epic.name"
          [description]="epic.description"
          [icon]="epic.icon"
          (click)="handleEpicSelection(epic._id)"
        ></app-summary-card>
      </li>
    </ul>
  </section>
</section>
