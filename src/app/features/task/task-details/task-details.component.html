<article>
  <app-confirmation-dialog
    [commands$]="taskDeletionDialogCommand.asObservable()"
    (result)="receiveResult($event)"
  >
    <p class="delete-msg">
      Are you sure you want to delete <strong>"{{ task.name }}"</strong> ?
    </p>
  </app-confirmation-dialog>

  <div *ngIf="loadingTask && !errorFetchingTaskDetails" class="loading-spinner">
    <app-loading-spinner color="orange" size="small"></app-loading-spinner>
  </div>
  <app-alert-message
    *ngIf="errorFetchingTaskDetails"
    class="error-alert"
    [closable]="false"
    [color]="'red'"
  >
    Error fetching task details...try again later
  </app-alert-message>
  <section *ngIf="!loadingTask && !errorFetchingTaskDetails" class="details">
    <app-section-header
      [name]="task.name"
      [description]="task.description"
      [type]="'Task'"
    >
    </app-section-header>

    <app-custom-detail
      *ngIf="task.done !== undefined"
      [name]="'Status'"
      [state]="true"
    >
      {{ task.done }}</app-custom-detail
    >
    <app-custom-detail
      *ngIf="task.created"
      [name]="'Creation date'"
      [state]="true"
    >
      {{ task.created | date }}</app-custom-detail
    >
    <app-custom-detail *ngIf="task.dueDate" [name]="'Due date'" [state]="true">
      {{ task.dueDate | date }}</app-custom-detail
    >

    <app-custom-icon-button
      class="btn-delete"
      [iconPath]="'/assets/delete-3-svgrepo-com.svg'"
      [buttonPaint]="'red'"
      (clickedButtonEvent)="handleDeleteButtonClick()"
    ></app-custom-icon-button>
  </section>
</article>
